#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <time.h>
#include <conio.h>
#include <windows.h>
#include <dos.h>
#include <errno.h>
struct data{
    char name[32];
    char ID[16];
    char number[16];
    char email[32];
    char user_name[32];
    char password[32];
    };
    typedef struct data Sdata;
struct reservation{
    char journey_date[16];
    char trainname[16];
    char boarding[16];
    char departure [16];
    char total_seat[16];
    char seat_type[16];
    char select_seat[16];
    char passenger_name[32];
    };
    typedef struct reservation Sreserve;
void coordinate(int x, int y){
    COORD CRD;
    CRD.X= x;
    CRD.Y= y;
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),CRD);
}
loader(){
    int i;
    system("CLS");
    coordinate(15,5);

    printf("\n\n\n\n\t\t\tLoading...\n");
    printf("\t");
    for(i=0;i<50;i++)
    {
        Sleep(20);
        printf("%c",219);
    }
    system("cls");
    coordinate(15,5);
    printf("\n\tPlease Press Any key to Continue!\n\n");
    getch();
    system("CLS");
}
about_us(){


    printf("\n                                                    **************\n");
    printf("                                                       Welcome!");
    printf("\n                                                    **************\n");

    printf("               ||-------------------------------------------------------------------------------------||\n");
    printf("               ||-------------------------------------------------------------------------------------||\n");
    printf("               ||                                                                                     ||\n");
    printf("               ||           Project Name: SE-133 Software Development Capstone Project(K).            ||\n");
    printf("               ||           Project Title: Ticketing BR                                               ||\n");
     printf("               ||                                                                                     ||\n");
    printf("               ||           Project Instructor:                                                       ||\n               ||\t\tMR. BIRAJ SAHA ARONYA, Lecturer, Dept. of SWE, DIU                    ||\n");
     printf("               ||                                                                                     ||\n");
    printf("               ||           Project Partners:                                                         ||\n               ||\t\t GOLAM AHMED MUGDHA 221-35-1053 (System Architect & Developer)        ||\n               ||\t\t MOST. NUSRAT FATEMA 221-35-1059 (System Designer & Testing)          ||\n");
     printf("               ||                                                                                     ||\n");
    printf("               ||    This project is a visualization of a large arrangement of management system      ||\n               ||        that maintains  the e-ticketing & services of BANGLADESH RAILWAY.            ||\n");
    printf("               ||      As for language criteria, we could not cover some of our desired features,     ||\n               ||       but we have tried our best to use every corner of our Programming Skill.      ||\n");
    printf("               ||                        Â© Both the partners keep the copyright.                      ||\n");
    printf("               ||                                                                                     ||\n");
    printf("               ||                        ***Press Any Key to Go back to Home Page***                  ||\n");
    printf("               ||-------------------------------------------------------------------------------------||\n");
    printf("               ||-------------------------------------------------------------------------------------||\n");

                getchar();
        system("CLS");
               main();

}
login(){
        char username[30],password[20];
        FILE *data;
        Sdata create;
        data=fopen("data.txt","r");

    coordinate(20,5);
    printf("\n");
     printf("\n\t\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t\t     Please Enter your login Details below ");
     printf("\n\t\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**\n");

    printf("\n\t\t\t\t\tUsername:  ");
    scanf("%s",&username);
    printf("\n\t\t\t\t\tPassword: ");
    scanf("%s",&password);

    if (NULL == data) {
            loader();
        printf("\n\nNo Information Available!\n Create an Account!\n");
        printf("Press Any Key to Go Main Menu!\n");
        getch();
        main();}

while(fread(&create,sizeof(create),1,data)){
    if(strcmp(username,create.user_name)==0 && strcmp(password,create.password)==0)
        {
            loader();
            printf("\nSuccessful Login\n");
            printf("Press Any Key to go to HOME!\n");
            getch();
            home();
            break;
        }
    else
        {
            printf("\nIncorrect Login Details\nPlease enter 1 to try to Login again or Enter 2 to go Main Menu !\n");
            int choice;
            printf("\n\t\t\tEnter Choice::: ");
            scanf("%d",&choice);
            if(choice==1){
                system("CLS");
                login();
                break;
            }
            else{
            system("CLS");
            main();
            break;}
        }
}
    fclose(data);
}
profile_information(){
    FILE *data;
    Sdata create;

        data=fopen("data.txt","r");
        fread(&create,sizeof(create),1,data);


    if (NULL == data){
        printf("No Information Available!\n Create an Account!\n");
        main();
    }

        loader();

    printf("Your Information::: \n");

    printf("Your Name:::  %s\n",create.name);
    printf("Your ID:::  %s\n",create.ID);
    printf("Your Mobile Number:::  %s\n",create.number);
    printf("Your Email:::  %s\n",create.email);
    printf("Your Username:::  %s\n",create.user_name);
    printf("Your Password:::  %s\n",create.password);

        fclose(data);

        printf("Enter Any Key to Go Back\n");
        getch();
        system("CLS");
        home();
    }
update_profile(){
    char name[32];
    FILE *data;
    data=fopen("data.txt","w");
    Sdata create;
system("CLS");
    coordinate(15,5);

     printf("\n");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t              Welcome to BR Online Ticketing!");
     printf("\n\t\t\t               Please Fill the Data Below");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");

     printf("Please Update Your Profile Information!");

     fgetc(stdin);
    printf("\n\n\t\t\t\tEnter Your Full Name to Update:");
    fgets(create.name,32,stdin);
    create.name[strlen(create.name)-1]=0;
    printf("\n\n\t\t\t\tEnter Your ID to Update:");
    fgets(create.ID,16,stdin);
    create.ID[strlen(create.ID)-1]=0;
    printf("\n\n\t\t\t\tEnter Your Mobile Number to Update: ");
    fgets(create.number,16,stdin);
    create.number[strlen(create.number)-1]=0;
    printf("\n\n\t\t\t\tEnter Your E-mail Address to Update: ");
    fgets(create.email,32,stdin);
    create.email[strlen(create.email)-1]=0;

    printf("\n");
     printf("\n\t\t\t\t  ................................................");
     printf("\n\t\t\t\t  <  Please Update Your Username & Password >");
     printf("\n\t\t\t\t  ................................................");

     printf("Press Any key to Continue!\n");
    getch();
    system("CLS");
    coordinate(15,5);

    printf("\n\n\n\t\t\tEnter Username to Update:::");
        scanf("%s",create.user_name);
    printf("\n\n\n\t\t\tEnter Password to Update:::");
    scanf("%s",create.password);

    system("CLS");
    coordinate(15,5);

    printf("\n");
    loader();
     printf("\n\t\t\t\t\tYour Updated Information:    ");

        printf("\n\n\t\t\t *******************************************\n");
        printf("\n\t\t\t            Name: ");
        puts(create.name);
        printf("\n\t\t\t            ID: ");
        puts(create.ID);
        printf("\n\t\t\t            Mobile Number: ");
        puts(create.number);
        printf("\n\t\t\t            Email: ");
        puts(create.email);
        printf("\n\t\t\t            Username: ");
        puts(create.user_name);
        printf("\n\t\t\t            Password: ");
        puts(create.password);
        printf("\n\n\t\t\t *******************************************\n");


fwrite(&create,sizeof(create),1,data);
    fclose(data);

int option;
    printf("\n\n\t\t\tEnter 1 to Save info or 2 to Cancel: ");
    scanf("%d",&option);

     system("CLS");
    coordinate(15,10);

    if(option==1)
{
    getchar();
    system("CLS");
    coordinate(15,5);

    printf("\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #            Welcome to Bangladesh Railway        #");
    printf("\n\t\t\t        #          Your information have been Updated!      #");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**\n");

        int select;
    printf("Select Option: 1. Login 2. Home");
    if (select==1){
            system("CLS");
    coordinate(15,5);
        login();
    }
    else {
        system("CLS");
    coordinate(15,5);
            home();
    }
    }

    else{
            system("CLS");
    coordinate(15,5);
            home();
    }}
train_information(){

        system("CLS");
        printf("Available Route: \n\n\t 1.East Zone \n\t 2. West Zone \n\t 3. International Service \n\t 4. Back\n");
        printf("Select Option: \n\n");
        int select;
        scanf("%d",&select);

        switch(select){

        case 1:{
                printf("East Zone Available Train Details:\n\n");
                printf("\t 1. Dhaka - Rangpur - Dhaka \n\t 2. Dhaka - Saidpur - Dhaka \n\t 3. Dhaka - Mymensingh - Jamalpur - Dhaka \n\t 4. Dhaka - Rajshahi - Dhaka \n\t 5. Dhaka - Khulna - Dhaka \n\t 6. Back\n\n");

                    int option_e;
                    printf("Enter Route: ");
                    scanf("%d",&option_e);
                        switch(option_e){

                                    case 1:{
                                        loader();
                                        printf("\n\t 1. 751 Up::: Rangpur Express (Dhaka - Rangpur) \n\t 2. 752 Down::: Rangpur Express (Rangpur - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 2:{
                                         loader();
                                        printf("\n\t 1. 765 Up::: Nilsagar Express (Dhaka - Saidpur) \n\t 2. 766 Down::: Nilsagar Express (Saidpur - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 3:{
                                         loader();
                                        printf("\n\t 1. 765 Up::: Jamalpur Express (Dhaka - Jamalpur) \n\t 2. 800 Down::: Jamalpur Express (Jamalpur - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 4:{
                                         loader();
                                        printf("\n\t Up::: \n\t 753 Up::: SilkCity Express (Dhaka - Rajshahi) \n\t 759 Up::: Padma Express (Dhaka - Rajshahi) \n\t 769 Up::: Dhumketu Express (Dhaka - Rajshahi) \n\n\t Down::: \n\t 754 Down::: SilkCity Express (Rajshahi - Dhaka) \n\t 760 Down::: Padma Express (Rajshahi - Dhaka) \n\t 770 Down::: Dhumketu Express (Rajshahi - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 5:{
                                         loader();
                                        printf("\n\t 1. 747 Up::: Simanta Express (Dhaka - Khulna) \n\t 2. 748 Down::: Simanta Express (Khulna - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 6:{
                                        train_information();
                                    }

                                    }
                        }
                        case 2:{

                            printf("West Zone Available Train Details:\n\n");
                                printf("\t 1. Dhaka - Sylhet - Dhaka \n\t 2. Dhaka - Chittagong - Dhaka \n\t 3. Back to Ticketing\n\n");

                                    int option_w;
                                    printf("Enter Route: ");
                                    scanf("%d",&option_w);
                                    switch(option_w){

                                            case 1:{
                                             loader();
                                                printf("\n\t Up::: \n\t 773 Up::: Kalni Express (Dhaka - Sylhet) \n\t 709 Up::: Parabat Express (Dhaka - Sylhet) \n\t 717 Up:::Jointika Express (Dhaka - Sylhet) \n\n\t Down::: \n\t 774 Down::: Kalni Express (Sylhet - Dhaka) \n\t 710 Down ::: Parabat Express (Sylhet - Dhaka) \n\t 718 Down:::Jointika Express (Sylhet - Dhaka)\n\t");
                                                printf("\n\n\tPress Any Key to Go Back!\n");
                                                getch();
                                                train_information();
                                    }

                                    case 2:{
                                         loader();
                                        printf("\n\t Up::: \n\t 788 Up::: Sonar Bangla Express (Dhaka - Chittagong) \n\t 702 Up::: Suborno Express (Dhaka - Chittagong) \n\t 742 Up::: Turna Express (Dhaka - Chittagong) \n\t Down::: 789 Down::: Sonar Bangla Express (Chittagong - Dhaka) \n\t 703 Down::: Suborno Express (Chittagong - Dhaka) \n\t 742 Down::: Turna Express (Chittagong - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                                    case 3:{
                                        train_information();
                                    }
                                    default:
                                        train_information();
                                    }
                        case 3:{
                                        loader();
                                         printf("International Route Available Train Details:\n\n");
                                        printf("\n\t 1. BR13108 Up::: Maitree Express (Dhaka - Kalkata - Jolpaiguri) \n\t 2. IR 13109 Down::: Maitree Express (Jolpaiguri - Kaltaka - Dhaka)\n\t");
                                        printf("\n\n\tPress Any Key to Go Back!\n");
                                        getch();
                                        train_information();
                                    }
                        case 4:{
                                        system("CLS");
                                        book_ticket();
                                    }
                        default:{
                                        train_information();
                                    }
            }}}
coach_view(){
    system("CLS");
    coordinate(15,10);
    printf("\n Select Option:  \n\t 1. Snigdha \n\t 2. Shovon \n\t 3. Saloon Coach (VVIP / VIP / General) \n\t 4. Back to Home\n");
    int selection;
    scanf("%d",&selection);

            switch(selection){

            case 1:{

                printf("AC Snigdha\n\n");
                printf("\t\t\tW01  C02\t\tW03  \n\t\t\tW03 C04\t\tW07  \n \t\t\tW08  C09\t\tW10 \n \t\t\tW11  C12\t\tW13 \n \t\t\tW14  C15\t\tW15 \n \t\t\tW16  C17\t\tW18\n");
                            printf("\n Press Any key to Go Back!\n");
                            getch();
                            coach_view();
            }
            case 2:{

                printf("Schovon Chair\n\n");
                printf("\t\t\tW01  C02\t\tC03  W04\n \t\t\tW05  C06\t\tC07  W08\n \t\t\tW09  C10\t\tC11  W12\n \t\t\tW13  C14\t\tC15  W16\n \t\t\tW17  C18\t\tC19  W20\n");
                            printf("\n Press Any key to Go Back!\n");
                            getch();
                            coach_view();
            }
            case 3:{

                printf("Apply to Authority for Saloon Coach Service\n\n");
                            printf("\n Press Any key to Go Back!\n");
                            getch();
                            coach_view();
            }
            case 4:{
            printf("\n Press Any key to Go to Home!\n");
                            getch();
                            home();
            }
            }
    }
book_ticket(){

    FILE *bookings;
    Sreserve book;
    bookings = fopen("bookings.txt","w");

    system("CLS");

     printf("\n");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t              Welcome to BR Online Ticketing!");
     printf("\n\t\t\t               Please Fill the Information Below");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");

     printf("\n\n Press Any Key to Continue!\n");
     getch();
     system("CLS");


     fgetc(stdin);
    printf("\n\n\t\t\t\tEnter Your journey Date:::");
    fgets(book.journey_date,16,stdin);
    book.journey_date[strlen(book.journey_date)-1]=0;
    printf("\n\n\t\t\t\tEnter Your Selected Train Code:::");
    fgets(book.trainname,16,stdin);
    book.trainname[strlen(book.trainname)-1]=0;
    printf("\n\n\t\t\t\tEnter Your Boarding Point:::");
    fgets(book.boarding,16,stdin);
    book.boarding[strlen(book.boarding)-1]=0;
    printf("\n\n\t\t\t\tEnter Your Departure Point::: ");
    fgets(book.departure,16,stdin);
    book.departure[strlen(book.departure)-1]=0;
    printf("\n\n\t\t\t\tEnter How Many Seats You Want to Reserve::: ");
    fgets(book.total_seat,16,stdin);
    book.total_seat[strlen(book.total_seat)-1]=0;
    printf("\n\n\t\t\t\tEnter Seat Type:");
    fgets(book.seat_type,16,stdin);
    book.seat_type[strlen(book.seat_type)-1]=0;
    printf("\n\n\t\t\t\tEnter Seats you Selected:");
    fgets(book.select_seat,16,stdin);
    book.select_seat[strlen(book.select_seat)-1]=0;
    printf("\n\n\t\t\t\tEnter Passenger Name:");
    fgets(book.passenger_name,32,stdin);
    book.passenger_name[strlen(book.passenger_name)-1]=0;

    fwrite(&book,sizeof(book),1,bookings);
    fclose(bookings);

    loader();

    printf("\n");
     printf("\n\t\t\t\t\tYour Ticketing Information:    ");

        printf("\n\n\t\t\t *******************************************\n");
        printf("\n\t\t\t            Journey Date: ");
        puts(book.journey_date);
        printf("\n\t\t\t            Train Code: ");
        puts(book.trainname);
        printf("\n\t\t\t            Boarding Point: ");
        puts(book.boarding);
        printf("\n\t\t\t            Departure Point: ");
        puts(book.departure);
        printf("\n\t\t\t            Total Seat: ");
        puts(book.total_seat);
        printf("\n\t\t\t            Seat Type: ");
        puts(book.seat_type);
        printf("\n\t\t\t            Selected Seat: ");
        puts(book.select_seat);
        printf("\n\t\t\t            Passenger Name: ");
        puts(book.passenger_name);
        printf("\n\n\t\t\t *******************************************\n");

int option;
    printf("\n\n\t\t\tEnter 1 to Confirm Reservation or 2 to Cancel: ");
    scanf("%d",&option);

     system("CLS");
    coordinate(15,10);

    if(option==1)
{
    getchar();
    system("CLS");
    coordinate(15,5);

    loader();

    printf("\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #            Welcome to Bangladesh Railway        #");
    printf("\n\t\t\t        #          Your Ticket Has been Confirmed!      #");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**\n");


    printf("Press Any Key to Continue!");
    getchar();
            system("CLS");
            coordinate(15,10);
            home();
}}
food_details(){

    system("CLS");
    coordinate(15,10);

         printf("\n                               ****************************************************************\n");
    printf("                               *                  Welcome to BR FOOD Gallery!                 *\n");
    printf("                               *            List of Foods Available in Your Journey           *\n");
    printf("                               ****************************************************************\n");


                            printf("\n\t\t\t\tLunch Packages::: \n\t\t\t\t\t 01. Plain Rice - Fish Curry - Vegetable Salad (BDT200) \n\t\t\t\t\t 02. Plain Polao - Chicken Roast - Daal (BDT180) \n\t\t\t\t\t 03. Chiken Biriyani (BDT160)\n");

                            printf("\t\t\t\tSnacks::: \n\t\t\t\t\t 01. Crackers (BDT 20) \n\t\t\t\t\t 02. Sandwich (BDT60) \n\t\t\t\t\t 03. Chicken Sub- Burger (BDT120) \n\t\t\t\t\t 04. Chicken Fry(BDT90) \n\t\t\t\t\t 05. Soft Drinks & Water(BDT20)");

                            printf("\n\n\n \t\t\t\t\tPress Any key to Go to Home!\n");

                            getch();
                            home();

            }
cancel_reservation(){
            system("CLS");
            coordinate(15,10);
        printf("Please Appeal to the Admin to Cancel your Reservation!\n\n");
        printf("Press Any Key to Continue!");
    getch();
            system("CLS");
        home();
}
check_trip(){
    FILE *bookings;
    Sreserve book;
    bookings = fopen("bookings.txt","r");
    fread(&book,sizeof(book),1,bookings);


    if (NULL == bookings) {
            system("CLS");
        printf("No Trip Information Available!\n Enter 1 to book ticket, Enter 2 to Go Back!\n");
        int choice;
        scanf("%d",&choice);
            if(choice==1){
                system("CLS");
                book_ticket();
            }
            else{
                system("CLS");
                home();
            }}

            loader();
    printf("Your Information::: \n");

    printf("Journey Date:::  %s\n",book.journey_date);
    printf("Boarding Point:::  %s\n",book.boarding);
    printf("Departure Point:::  %s\n",book.departure);
    printf("Total Reserved Seats:::  %s\n",book.total_seat);
    printf("Selected Seat:::  %s\n",book.select_seat);
    printf("Passenger Name:::  %s\n",book.passenger_name);

        fclose(bookings);

        printf("\n\n\t\tEnter Any Key to Go Back\n");
        getch();
        system("CLS");
        home();
    }
home(){

    time_t t;
    time(&t);

    printf("\n (date and time): %s", ctime(&t));

    system("CLS");
    coordinate(20,5);
     printf("\n");
     printf("\n\t\t\t\t\t  **-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t\t\t           Hello User!         ");
    printf("\n\t\t\t\t\t     %s", ctime(&t));
     printf("\n\t\t\t\t\t  **-**-**-**-**-**-**-**-**-**\n");

    printf("\n\t\t\t\t\t    Please Select the Option: \n\n \t\t\t\t\t    01. Train Information \n\t\t\t\t\t    02. Coach View \n\t\t\t\t\t    03. Book Ticket \n\t\t\t\t\t    04. Check Your Trip \n\t\t\t\t\t    05. Cancel Reservation \n\t\t\t\t\t    06. See Profile Information \n\t\t\t\t\t    07. Update Profile\n\t\t\t\t\t    08. Food Gallery \n\t\t\t\t\t    09. Main Menu \n\t\t\t\t\t    10. Exit\n\n");
    int option;
    printf("\n\t\t\t\t\t    Please Enter Your Option: ");
    scanf("%d",&option);

    switch(option){

case 1:
    train_information();
    break;
case 2:
    coach_view();
    break;
case 3:
    book_ticket();
    break;
case 4:
    check_trip();
    break;
case 5:
    cancel_reservation();
    break;
case 6:
    profile_information();
    break;
case 7:
    update_profile();
    break;
case 8:
    food_details();
    break;
case 9:
    main();
case 10:
    exit(0);
default:
    home();
    }
}
create_profile(){

    coordinate(15,5);
    FILE *data;
    Sdata create;
    data = fopen("data.txt","w");

     printf("\n");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t              Welcome to BR Online Ticketing!");
     printf("\n\t\t\t               Please Fill the Information Below");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");

     fgetc(stdin);
    printf("\n\n\t\t\t\tEnter Your Full Name:");
    fgets(create.name,32,stdin);
    create.name[strlen(create.name)-1]=0;
    printf("\n\n\t\t\t\tEnter Your ID:");
    fgets(create.ID,16,stdin);
    create.ID[strlen(create.ID)-1]=0;
    printf("\n\n\t\t\t\tEnter Your Mobile Number: ");
    fgets(create.number,16,stdin);
    create.number[strlen(create.number)-1]=0;
    printf("\n\n\t\t\t\tEnter Your E-mail Address: ");
    fgets(create.email,32,stdin);
    create.email[strlen(create.email)-1]=0;


    system("CLS");
    coordinate(15,5);

    loader();

    printf("\n");
     printf("\n\t\t\t\t\tYour Information:    ");

        printf("\n\n\t\t\t *******************************************\n");
        printf("\n\t\t\t            Name: ");
        puts(create.name);
        printf("\n\t\t\t            ID: ");
        puts(create.ID);
        printf("\n\t\t\t            Mobile Number: ");
        puts(create.number);
        printf("\n\t\t\t            Email: ");
        puts(create.email);
        printf("\n\n\t\t\t *******************************************\n");

int option;
    printf("\n\n\t\t\tEnter 1 to Save info or 2 to Cancel: ");
    scanf("%d",&option);

     system("CLS");
    coordinate(15,10);

    if(option==1)
{
    getchar();
    system("CLS");
    coordinate(15,5);

    printf("\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #            Welcome to Bangladesh Railway        #");
    printf("\n\t\t\t        #          Your information have been Saved!      #");
    printf("\n\t\t\t        #                                                 #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-****-**-**\n");


    printf("\n");
     printf("\n\t\t\t\t  ................................................");
     printf("\n\t\t\t\t  <  Please Create Your Username & Set Password :::");
     printf("\n\t\t\t\t  ................................................");

    printf("\n\n\n\t\t\tEnter Username:");
        scanf("%s",create.user_name);
    printf("\n\n\n\t\t\tEnter Password:");
    scanf("%s",create.password);

    fwrite(&create,sizeof(struct data),1,data);
    fclose(data);

printf("\nRegistration Successful!\n");
printf("Press 'ENTER' key to continue...");
    loader();
}
else if(option==2){
    getchar();
system("CLS");
coordinate(15,10);
main();
}
else
    printf("Wrong Choice!");
system("CLS");
    coordinate(15,10);
    int choice;
    printf("Enter 1 to go to 'Main Menu' or Enter 2 to go to 'Login'\n\n");
    scanf("%d",&choice);
    if(choice==1) {
            getchar();
            system("CLS");
    coordinate(15,10);
    main();}
    if(choice==2) {
            getchar();
    system("CLS");
    coordinate(15,10);
    login();
    }}
admin_access(){

    system("CLS");
        coordinate(15,10);

                printf("\n");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
     printf("\n\t\t\t              Welcome to Admin Panel!");
     printf("\n\t\t\t              Please Verify Your Identity!");
     printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");

     printf("\n\t\t\t   Press Any key to Continue::: ");
                   getch();
                    system("CLS");
                    coordinate(15,10);

            char u_name[20];
       char password[10];
       printf("\t\t\t\t=======================================");
       printf("\n\t\t\t\t\t  Enter Admin User Name: ");
       scanf("%s",&u_name);
       printf("\t\t\t\t\t=======================================");
       printf("\n\t\t\t\t\t  Enter Admin Password: ");
       scanf("%s",&password);
       if(strcmp(u_name,"mugnus")==0)
       {
           if(strcmp(password,"110010")==0)
           {
               loader();
               jump:
                   system("CLS");
               coordinate(15,10);
              printf("\n\t\t\t\t\t\t\tWelcome Admin!\n\t\t\t\t\t   You Have Successfully logged In!!!");
              printf("\n\n\t\t\t\t\t\tSelect Option!\n\n\t 1. User Info Delete \n\t 2. Reservation Cancellation \n\t 3. Rename an Existing File \n\t 4. Train Information Update \n\t 5. Coach View Update \n\t 6. Authorize Saloon Coach Application \n\n\t 7. Exit\n\n");
                    int option;
                    printf("\n\n\t\t\t\t\t\t Enter Your Option: ");
                    scanf("%d",&option);
                    if(option==1){
                                char filename[100];
                                            printf("\n\t\t\t\t\tExisting File Name: ");
                                                scanf("%s", filename);
                                            if (remove(filename) != 0) {
                                                    system("CLS");
                                                    fprintf(stderr, "\n\t\t\tError: %d\n", errno);
                                                        perror("\n\t\t\tError msg");
                                                        printf("\n\t\t\tPress Any key to GO Back!\n");
                                                            getch();
                                                        goto jump;
                                                        }
                                                        else{
                                                            printf("\n\t\t\t%s deleted.\n", filename);
                                                            printf("\n\n\t\t\tPress Any key to GO Back!\n");
                                                            getch();
                                                            system("CLS");
                                                            goto jump;}

                    }
                    else if(option==2){
                            loader();
                            system("CLS");
                            coordinate(15,10);
                                                char delete_book[100];
                                printf("\n Please Enter the Correct File Name in Original Order:::");
                                scanf("%s",delete_book);

                                if(remove(delete_book)!=0){
                                        system("CLS");
                                        coordinate(15,10);
                                    fprintf(stderr,"\n\t\t\tError: %d\n",errno);
                                    perror("\n\t\t\tError msg");
                                printf("\n\n\t\t\tPress Any key to GO Back!\n");
                                getch();
                                    system("CLS");
                                    admin_access();
                                }
                                else{

                                       system("CLS");
                                         coordinate(15,10);
                                    printf("\n%s File is Deleted Successfully!",delete_book);
                                    printf("Press Any key to GO Back!\n");
                                                            getch();
                                                            goto jump;}
                                }

                        else if(option == 3){
                                loader();
                                system("CLS");
                                coordinate(15,10);

                                                char oldName[100], newName[100];

                                                        printf("Enter Existing file Name::: ");
                                                                            scanf("%s", oldName);

                                                        printf("Enter New Name::: ");
                                                                            scanf("%s", newName);

                                                                if (rename(oldName, newName) == 0){
                                                                                    printf("File renamed successfully.\n");
                                                                                    printf("Press Any key to GO Back!\n");
                                                                                    getch();
                                                                                            goto jump;
                                                                                                                }
                                                                        else{
                                                                                system("CLS");
                                                                                coordinate(15,10);
                                                                                    printf("Unable to rename files. Please check File Renaming Conditions.\n");
                                                                                    printf("Press Any key to GO Back!\n");
                                                                                        getch();
                                                                                        goto jump;
                                                                                    }

    }
                                                    else if(option==4){

                                                            system("CLS");
                                                            coordinate(15,10);
                                                            printf("Contact Your Developer to Update Train Information\n");
                                                            printf("\t\tPress Any key to GO Back!\n");
                                                                                        getch();
                                                                                        goto jump;
                                                    }
                                                    else if(option==5){

                                                            system("CLS");
                                                            coordinate(15,10);
                                                            printf("Contact Your Developer to Update Coach View\n");
                                                            printf("\t\tPress Any key to GO Back!\n");
                                                                                        getch();
                                                                                        goto jump;
                                                    }
                                                    else if(option==6){

                                                            system("CLS");
                                                            coordinate(15,10);
                                                            printf("Contact Your Developer to Update This Feature\n");
                                                            printf("\t\tPress Any key to GO Back!\n");
                                                                                        getch();
                                                                                        goto jump;
                                                    }
                                                    else if(option==7)
                                                    {
                                                        exit(0);
                                                    }
                                                    else{
                                                                    system("CLS");
                                                                    coordinate(15,10);
                                                                    printf("Wrong Choice! Press Any key to GO Back!\n");
                                                                        getch();
                                                                            system("CLS");
                                                                            goto jump;}
           }
        else
           {
                system("CLS");
                coordinate(15,10);
               printf("\n\n\t\t\t\t\tWrong Admin Password!!!");
               printf("Press Any key to GO Back!\n");
                                                            getch();
                                                            admin_access();
            }
           }
        else
            {
                 system("CLS");
                 coordinate(15,10);
            printf("\n\n\n\t\t\t\t\t\t   Wrong Admin Username!!!");
            printf("Press Any key to GO Back!\n");
                                                            getch();
                                                            admin_access();
            }
}
int main(){

        system("COLOR 70");

        coordinate(20,5);
        printf("\n\n\n\n\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #                  WELCOME                  #");
    printf("\n\t\t\t        #                    TO                     #");
    printf("\n\t\t\t        #             Railway Ticketing             #");
    printf("\n\t\t\t        #                  SYSTEM                   #");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**\n");
    printf("\t\t\t\t Enter any key to continue.....");
    getchar();
        system("CLS");

        int choice,option;
        coordinate(20,5);

        printf("\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #               Choose Your option:         #");
    printf("\n\t\t\t        #               1. User                     #");
    printf("\n\t\t\t        #               2. Admin                    #");
    printf("\n\t\t\t        #               3. About                    #");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**\n");
    printf("\n\t\t\t\t Enter Your option to continue.....");
        scanf("%d",&choice);

        getchar();
        system("CLS");
        coordinate(20,5);
switch(choice){
case 1:
    {
    printf("\n");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #            Choose Your Option:            #");
    printf("\n\t\t\t        #            1. Log in                      #");
    printf("\n\t\t\t        #            2. Create Profile              #");
    printf("\n\t\t\t        #            3. Back to Home Page           #");
    printf("\n\t\t\t        #                                           #");
    printf("\n\t\t\t        #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#");
    printf("\n\t\t\t  **-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**-**");
    printf("\n\t\t\t\t Enter Your option to continue.....");
    scanf("%d",&option);
    switch(option)
    {
    case 1:
         {
        system("CLS");
        login();
        break;
    }

    case 2:
        {
        system("CLS");
        create_profile();
        break;
        }
    case 3:
        {
            system("CLS");
            main();
            break;
        }
    default:
        {
            system("CLS");
            main();
            break;
        }
    }
    break;
}
    case 2:
        {
            printf("\n\nSelect Option \n\n\t 01. Admin Access \n\n\t 02. Go Back\n");
            int back;
            printf("Enter your option:  ");
            scanf("%d",&back);
            switch(back)
            {
            case 1:{
                    system("CLS");
                    coordinate(15,10);
                admin_access();
                }
            default:
                main();
            }
        break;
        }
        case 3:
            {
                about_us();
               break;
            }

    default:
        printf("Wrong Option!\n");
        printf("\t\t\tPress Any Key to Go Back!");
        getchar();
        system("CLS");
        main();
    }}
